<!DOCTYPE html>
{% load staticfiles %}
{% load my_app_template_tags %}

<html>
    <head lang="en">
        <meta charset="UTF-8" />
        <title>
            my_app -
            {% block title_block %}
                How to Tango with Django!
            {% endblock %}
        </title>
    </head>
    <body>
        <div>
            {% block body_block %}
            {% endblock %}
        </div>
        <div>
            {% block sidebar_block %}
                {% get_category_list category %}
            {% endblock %}
        </div>
        <hr />
        <div>
            <ul>
                {% if user.is_authenticated %}
                    <!-- Show these links when the user is logged in -->
                    <li><a href="{% url 'my_app:add_category' %}">Add New Category</a> </li>
                    <li><a href="{% url 'my_app:restricted' %}">Restricted Page</a></li>
                    <li><a href="{% url 'my_app:logout' %}">Logout</a></li>
                {% else %}
                    <!-- Show these links when the user is NOT logged in -->
                    <li><a href="{% url 'my_app:register' %}">Sign Up</a> </li>
                    <li><a href="{% url 'my_app:login' %}">Login</a> </li>
                {% endif %}
                <!-- Outside the conditional statements, ALWAYS show -->
                <li><a href="{% url 'my_app:about' %}">About</a> </li>
                <li><a href="{% url 'my_app:index' %}">Index</a> </li>
            </ul>
        </div>
    </body>
</html>